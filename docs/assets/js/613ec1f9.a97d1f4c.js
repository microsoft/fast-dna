"use strict";(self.webpackChunkfast_site=self.webpackChunkfast_site||[]).push([[51303],{61403:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var i=t(31085),s=t(71184);const r={id:"migration-guide",title:"Migration Guide",sidebar_label:"Migration Guide",keywords:["migrate","migration","web components"]},o="Migrating from 1.x to 2.x",c={id:"migration-guide",title:"Migration Guide",description:"Breaking Changes",source:"@site/docs/migration-guide.md",sourceDirName:".",slug:"/migration-guide",permalink:"/docs/migration-guide",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"migration-guide",title:"Migration Guide",sidebar_label:"Migration Guide",keywords:["migrate","migration","web components"]},sidebar:"docs",previous:{title:"Integrations",permalink:"/docs/integrations"},next:{title:"Community Contribution",permalink:"/docs/category/community-contribution"}},a={},l=[{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"<code>cssPartial</code>",id:"csspartial",level:3},{value:"<code>CSSDirective</code>",id:"cssdirective",level:3},{value:"<code>CSSDirective</code> with behaviors",id:"cssdirective-with-behaviors",level:3},{value:"Suggested Changes",id:"suggested-changes",level:2},{value:"<code>@customElement</code>",id:"customelement",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"migrating-from-1x-to-2x",children:"Migrating from 1.x to 2.x"}),"\n",(0,i.jsx)(n.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,i.jsx)(n.h3,{id:"csspartial",children:(0,i.jsx)(n.code,{children:"cssPartial"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"cssPartial"})," export no longer exists, in its place use ",(0,i.jsx)(n.code,{children:"css.partial"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"1.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { cssPartial } from "@microsoft/fast-element";\n\ncssPartial`\n:host {\n  color: red;\n}`;\n'})}),"\n",(0,i.jsx)(n.p,{children:"2.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { css } from "@microsoft/fast-element";\n\ncss.partial`\n:host {\n  color: red;\n}`;\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cssdirective",children:(0,i.jsx)(n.code,{children:"CSSDirective"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"CSSDirective"})," has been updated to need to be defined. Additionally it cannot be extended from and must use ",(0,i.jsx)(n.code,{children:"implements"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"1.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { CSSDirective } from "@microsoft/fast-element"\n\nclass MyCSSDirective extends CSSDirective {\n    createCSS() {\n      return "color: red;"\n    }\n}\n\nexport const myCssDirective = new MyCSSDirective();\n'})}),"\n",(0,i.jsx)(n.p,{children:"2.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { CSSDirective } from "@microsoft/fast-element"\n\nclass MyCSSDirective implements CSSDirective {\n    createCSS() {\n      return "color: red;"\n    }\n}\n\nCSSDirective.define(MyCSSDirective);\n\nexport const myCssDirective = new MyCSSDirective();\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"cssdirective-with-behaviors",children:[(0,i.jsx)(n.code,{children:"CSSDirective"})," with behaviors"]}),"\n",(0,i.jsxs)(n.p,{children:["Behaviors have been extracted from ",(0,i.jsx)(n.code,{children:"CSSDirective"})," so that they can be used in a modular fashion. The API has also been updated to be more intuitive and re-use methods that are common for web components (see ",(0,i.jsx)(n.code,{children:"connectedCallback"})," in the 2.x example below)."]}),"\n",(0,i.jsx)(n.p,{children:"1.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { CSSDirective } from "@microsoft/fast-element"\n\nclass MyCSSDirective extends CSSDirective {\n  public cssProperty: string = "background";\n\n  createCSS() {\n    return `display: block; color: red;`\n  }\n\n  createBehavior() {\n    var that = this;\n\n    return {\n      bind(el) {\n        el.style.setProperty(that.cssProperty, "yellow")\n      },\n      unbind(el) {\n        el.style.removeProperty(that.cssProperty);\n      }\n    }\n  }\n}\n\nexport const myCssDirective = new MyCSSDirective();\n'})}),"\n",(0,i.jsx)(n.p,{children:"2.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { css, CSSDirective, AddBehavior, HostBehavior } from "@microsoft/fast-element"\n\nconst cssProperty: string = "background";\n\nconst myCssBehavior: HostBehavior = {\n  connectedCallback: (controller) => {\n    controller.addStyles(css`:host {${cssProperty}: yellow }`)\n  },\n  disconnectedCallback: (controller) => {\n    controller.removeStyles(css`:host {${cssProperty}: yellow }`)\n  }\n}\n\nclass MyCSSDirective implements CSSDirective {\n  createCSS(add: AddBehavior) {\n    add(myCssBehavior);\n    return `display: block; color: red;`\n  }\n}\n\nCSSDirective.define(MyCSSDirective);\n\nexport const myCssDirective = new MyCSSDirective();\n'})}),"\n",(0,i.jsx)(n.h2,{id:"suggested-changes",children:"Suggested Changes"}),"\n",(0,i.jsx)(n.p,{children:"While some of the APIs remain available, we suggest going forward that certain patterns be updated."}),"\n",(0,i.jsx)(n.h3,{id:"customelement",children:(0,i.jsx)(n.code,{children:"@customElement"})}),"\n",(0,i.jsxs)(n.p,{children:["We prefer using ",(0,i.jsx)(n.code,{children:"FASTElement"})," and its ",(0,i.jsx)(n.code,{children:".define()"})," method over the ",(0,i.jsx)(n.code,{children:"@customElement"})," decorator (which is still used under the hood). We believe this more closely matches with how you define custom elements using the native ",(0,i.jsx)(n.code,{children:"customElements.define()"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"1.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { FASTElement, customElement } from '@microsoft/fast-element';\n\n@customElement('my-component')\nexport class MyComponent extends FASTElement {}\n"})}),"\n",(0,i.jsx)(n.p,{children:"2.x Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { FASTElement } from "@microsoft/fast-element";\n\nclass MyComponent extends FASTElement {}\n\nMyComponent.define({\n  name: "my-component"\n});\n'})})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},71184:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var i=t(14041);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);